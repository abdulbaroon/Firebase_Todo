(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{3545:function(e,n,t){Promise.resolve().then(t.t.bind(t,9646,23)),Promise.resolve().then(t.bind(t,6288)),Promise.resolve().then(t.t.bind(t,3385,23)),Promise.resolve().then(t.bind(t,1160)),Promise.resolve().then(t.bind(t,4972))},1160:function(e,n,t){"use strict";t.r(n);var r=t(7437),o=t(2265),i=t(278),s=t(4272),a=t(6676),l=t(3206),c=t(9835),u=t(1154),d=t(8740),p=t(4598),f=t(7489),h=t(6285),x=t(8899),m=t(697),g=t(4253),v=t(4972),j=t(8792),b=t(8190),y=t(5554),Z=t(1748),k=t(7161);n.default=function(){let[e,n]=o.useState(null),[t,w]=o.useState(null),[S,C]=o.useState([]),{currentUser:A,signOut:I}=o.useContext(v.AuthContext),[E,U]=o.useState((null==A?void 0:A.photoURL)||""),O=null==A?void 0:A.photoURL,D=(0,Z.N8)(k.l2);o.useEffect(()=>{O&&U(O)},[O]),o.useEffect(()=>{if(A){let e=(0,Z.iH)(D,"/notifications");(0,Z.jM)(e,e=>{let n=e.val(),t=[];for(let e in n)t.push({id:e,...n[e]});C(t)})}},[D,A]),console.log(S);let P=[{page:"Todos",link:"/todo"}],z=A?[{page:"Profile",link:"/profile"},{page:"Logout",action:()=>{I(),sessionStorage.removeItem("user"),L()}}]:[{page:"Sign In",link:"/Login"},{page:"Sign Up",link:"/register"}],F=()=>{n(null)},L=()=>{w(null)};return(0,r.jsx)(i.Z,{position:"static",children:(0,r.jsx)(p.Z,{maxWidth:"xl",children:(0,r.jsxs)(a.Z,{disableGutters:!0,children:[(0,r.jsx)(g.Z,{sx:{display:{xs:"none",md:"flex"},mr:1}}),(0,r.jsx)(c.Z,{variant:"h6",noWrap:!0,component:"a",href:"/",sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"ABD"}),(0,r.jsxs)(s.Z,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[(0,r.jsx)(l.Z,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:e=>{n(e.currentTarget)},color:"inherit",children:(0,r.jsx)(d.Z,{})}),(0,r.jsx)(u.Z,{id:"menu-appbar",anchorEl:e,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:!!e,onClose:F,sx:{display:{xs:"block",md:"none"}},children:null==P?void 0:P.map(e=>(0,r.jsx)(m.Z,{onClick:F,children:(0,r.jsx)(c.Z,{textAlign:"center",component:j.default,href:e.link,children:null==e?void 0:e.page})},null==e?void 0:e.page))})]}),(0,r.jsx)(g.Z,{sx:{display:{xs:"flex",md:"none"},mr:1}}),(0,r.jsx)(c.Z,{variant:"h5",noWrap:!0,component:"a",href:"/",sx:{mr:2,display:{xs:"flex",md:"none"},flexGrow:1,fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"ABD"}),(0,r.jsx)(s.Z,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:P.map(e=>(0,r.jsx)(h.Z,{onClick:F,sx:{my:2,color:"white",display:"block"},children:(0,r.jsx)(c.Z,{textAlign:"center",component:j.default,href:e.link,children:e.page})},e.page))}),(0,r.jsxs)(s.Z,{sx:{flexGrow:0},children:[(0,r.jsx)(l.Z,{sx:{p:0,mr:4},children:(0,r.jsx)(b.Z,{badgeContent:null==S?void 0:S.length,color:"error",children:(0,r.jsx)(y.Z,{sx:{color:"#FFF"}})})}),(0,r.jsx)(x.Z,{title:"Open settings",children:(0,r.jsx)(l.Z,{onClick:e=>{w(e.currentTarget)},sx:{p:0},children:(0,r.jsx)(f.Z,{alt:null==A?void 0:A.displayName,src:E})})}),(0,r.jsx)(u.Z,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:t,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:!!t,onClose:L,children:z&&(null==z?void 0:z.map(e=>(0,r.jsx)(m.Z,{onClick:e.action||L,children:(0,r.jsx)(j.default,{href:e.link||"#",children:e.page})},e.page)))})]})]})})})}},7161:function(e,n,t){"use strict";t.d(n,{Td:function(){return f},eE:function(){return p},Yc:function(){return x},l2:function(){return s},w2:function(){return l},SA:function(){return c},D5:function(){return h}});var r=t(2730),o=t(6142);let i={apiKey:"AIzaSyBvMiUuz2RXynD4XyAHwhsiUMsEY_7o9J0",authDomain:"myproject-7b840.firebaseapp.com",databaseURL:"https://myproject-7b840-default-rtdb.firebaseio.com",projectId:"myproject-7b840",storageBucket:"myproject-7b840.appspot.com",messagingSenderId:"979447900958",appId:"1:979447900958:web:108583f4ef22de1db0b70f"},s=(0,o.ZF)(function(){if(i&&i.apiKey)return i;throw Error("No Firebase configuration object provided.\nAdd your web app's configuration object to firebase-config.ts")}()),a=(0,r.v0)(s),l=async(e,n)=>{if(e||n)return await (0,r.e5)(a,e,n)},c=async(e,n)=>{if(e||n)return await (0,r.Xb)(a,e,n)},u=new r.hJ,d=new r.GH,p=async()=>await (0,r.rh)(a,u),f=async()=>await (0,r.rh)(a,d),h=e=>(0,r.Aj)(a,e),x=async()=>await (0,r.w7)(a)},4972:function(e,n,t){"use strict";t.r(n),t.d(n,{AuthContext:function(){return l},AuthProvider:function(){return c}});var r=t(7437),o=t(2265),i=t(7907),s=t(7161),a=t(6288);let l=(0,o.createContext)({currentUser:{},setCurrentUser:e=>{},signOut:()=>{}}),c=e=>{let{children:n}=e,[t,c]=(0,o.useState)(null),u=(0,i.useRouter)();return(0,o.useEffect)(()=>(0,s.D5)(e=>{e?(c(e),sessionStorage.setItem("avatar",e.photoURL),sessionStorage.setItem("user","true")):(sessionStorage.removeItem("avatar"),sessionStorage.removeItem("user"))}),[]),(0,r.jsx)(l.Provider,{value:{currentUser:t,setCurrentUser:c,signOut:()=>{(0,s.Yc)(),c(null),sessionStorage.removeItem("avatar"),sessionStorage.removeItem("user"),a.toast.success("User Logout"),u.push("/")}},children:n})}},3385:function(){}},function(e){e.O(0,[452,481,893,75,926,824,431,971,69,744],function(){return e(e.s=3545)}),_N_E=e.O()}]);