(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{9982:function(e,t,s){Promise.resolve().then(s.bind(s,2509))},2509:function(e,t,s){"use strict";s.r(t);var n=s(7437),r=s(4972),a=s(7489),o=s(6285),i=s(2730),l=s(4905),c=s(2265),u=s(6288);t.default=function(){let{currentUser:e}=(0,c.useContext)(r.AuthContext),t=(0,l.cF)(),[s,d]=(0,c.useState)(null),[f,m]=(0,c.useState)((null==e?void 0:e.displayName)||"");(0,c.useEffect)(()=>{m((null==e?void 0:e.displayName)||""),d((null==e?void 0:e.photoURL)||null)},[e]),console.log(e,"ASd");let p=s=>{let n=(0,l.iH)(t,"".concat(null==e?void 0:e.uid,"/").concat(null==s?void 0:s.name));try{(0,l.KV)(n,s).then(e=>{u.toast.success("File uploaded successfully"),h(n)})}catch(e){console.error("Error uploading file:",e)}},h=e=>{(0,l.Jt)(e).then(e=>{d(e)}).catch(e=>{console.error("Error getting download URL:",e)})},v=async()=>{if(e)try{await (0,i.ck)(e,{displayName:f,photoURL:s}),sessionStorage.setItem("avatar",s),u.toast.success("Profile updated successfully!")}catch(e){console.error("Error updating profile:",e)}};return(0,n.jsx)("div",{className:"flex flex-col items-center mt-3",children:(0,n.jsxs)("div",{className:"border p-10",children:[(0,n.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,n.jsx)(a.Z,{sx:{width:200,height:200},alt:"m",src:s||(null==e?void 0:e.photoURL)}),(0,n.jsx)("input",{accept:"image/*",style:{display:"none"},id:"raised-button-file",multiple:!0,type:"file",onChange:e=>{var t;let s=null===(t=e.target.files)||void 0===t?void 0:t[0];s&&p(s)}}),(0,n.jsx)("label",{htmlFor:"raised-button-file",children:(0,n.jsx)(o.Z,{component:"span",variant:"contained",className:"mt-2",children:"Upload"})})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-3 mt-3",children:[(0,n.jsxs)("div",{className:"w-full flex justify-between",children:[(0,n.jsx)("label",{children:"Display Name"}),(0,n.jsx)("input",{className:"border rounded-md p-2 ms-3",value:f,onChange:e=>m(e.target.value)})]}),(0,n.jsxs)("div",{className:"w-full flex justify-between",children:[(0,n.jsx)("label",{children:"Email"}),(0,n.jsx)("input",{disabled:!0,className:"border rounded-md p-2 ms-4",value:null==e?void 0:e.email})]}),(0,n.jsx)(o.Z,{variant:"contained",onClick:v,children:"Update Profile"})]})]})})}},7161:function(e,t,s){"use strict";s.d(t,{Td:function(){return m},eE:function(){return f},Yc:function(){return h},l2:function(){return o},w2:function(){return l},SA:function(){return c},D5:function(){return p}});var n=s(2730),r=s(6142);let a={apiKey:"AIzaSyBvMiUuz2RXynD4XyAHwhsiUMsEY_7o9J0",authDomain:"myproject-7b840.firebaseapp.com",databaseURL:"https://myproject-7b840-default-rtdb.firebaseio.com",projectId:"myproject-7b840",storageBucket:"myproject-7b840.appspot.com",messagingSenderId:"979447900958",appId:"1:979447900958:web:108583f4ef22de1db0b70f"},o=(0,r.ZF)(function(){if(a&&a.apiKey)return a;throw Error("No Firebase configuration object provided.\nAdd your web app's configuration object to firebase-config.ts")}()),i=(0,n.v0)(o),l=async(e,t)=>{if(e||t)return await (0,n.e5)(i,e,t)},c=async(e,t)=>{if(e||t)return await (0,n.Xb)(i,e,t)},u=new n.hJ,d=new n.GH,f=async()=>await (0,n.rh)(i,u),m=async()=>await (0,n.rh)(i,d),p=e=>(0,n.Aj)(i,e),h=async()=>await (0,n.w7)(i)},4972:function(e,t,s){"use strict";s.r(t),s.d(t,{AuthContext:function(){return l},AuthProvider:function(){return c}});var n=s(7437),r=s(2265),a=s(7907),o=s(7161),i=s(6288);let l=(0,r.createContext)({currentUser:{},setCurrentUser:e=>{},signOut:()=>{}}),c=e=>{let{children:t}=e,[s,c]=(0,r.useState)(null),u=(0,a.useRouter)();return(0,r.useEffect)(()=>(0,o.D5)(e=>{e?(c(e),sessionStorage.setItem("avatar",e.photoURL),sessionStorage.setItem("user","true")):(sessionStorage.removeItem("avatar"),sessionStorage.removeItem("user"))}),[]),(0,n.jsx)(l.Provider,{value:{currentUser:s,setCurrentUser:c,signOut:()=>{(0,o.Yc)(),c(null),sessionStorage.removeItem("avatar"),sessionStorage.removeItem("user"),i.toast.success("User Logout"),u.push("/")}},children:t})}}},function(e){e.O(0,[452,893,669,971,69,744],function(){return e(e.s=9982)}),_N_E=e.O()}]);