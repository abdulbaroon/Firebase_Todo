(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[435],{9735:function(e,t,n){Promise.resolve().then(n.bind(n,9602))},9602:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return M}});var r=n(7437),s=n(2265),o=n(1748),c=n(7161),i=n(3441),l=n(6285),a=n(4972),d=n(356),u=n(4092),h=n(5166),f=n(9539),x=n.n(f),m=n(6288),j=()=>{let e=(0,o.N8)(c.l2),t=(0,s.useRef)(null),{currentUser:n}=(0,s.useContext)(a.AuthContext),f=()=>{if(t.current){let e=t.current.querySelector("input");e&&(e.value="")}};return(0,r.jsx)("form",{onSubmit:t=>{t.preventDefault();let r=new FormData(t.currentTarget),s=r.get("newDate"),c=r.get("title");if(console.log(s,c),c&&s){if(n){let r=(0,o.iH)(e,"/todos-".concat(n?n.uid:"")),i={title:c,done:!1,due_date:s,current_date:x()(new Date).format("MM/DD/YYYY")};(0,o.VF)(r,i),t.currentTarget.reset(),f(),m.toast.success("Todo Created")}else m.toast.error("First Login"),t.currentTarget.reset()}else m.toast.error("Fill the all details")},children:(0,r.jsxs)("div",{className:"flex justify-center mt-10 items-center gap-3",children:[(0,r.jsx)(i.Z,{id:"outlined-basic",label:"Task Name",name:"title",variant:"outlined",sx:{}}),(0,r.jsx)(d._,{dateAdapter:h.y,children:(0,r.jsx)(u.M,{ref:t,label:"Select Date",name:"newDate"})}),(0,r.jsx)(l.Z,{type:"submit",variant:"contained",sx:{mt:2,mb:2},children:"Submit"})]})})},p=n(4845),g=n(470),b=n(6520),Z=n(412),v=n(8430),w=n(4558),E=n(9835),y=n(360),C=n(3206),D=n(6009),T=n(4200),S=n(3260),Y=n(9528),A=n(3033);let _=e=>{let{todo:t,indexs:n}=e,[i,l]=(0,s.useState)(!1),[d,u]=(0,s.useState)(t.title),[h,f]=(0,s.useState)(t.current_date),[j,p]=(0,s.useState)(t.due_date),g=(0,o.N8)(c.l2),{currentUser:b}=(0,s.useContext)(a.AuthContext);function Z(){l(e=>!e)}return(0,s.useEffect)(()=>{let e=document.getElementById(t.id);if(e&&i){e.focus();let t=document.createRange(),n=window.getSelection();t.setStart(e,1),t.collapse(!0),null==n||n.removeAllRanges(),null==n||n.addRange(t)}},[i,t.id]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(w.Z,{suppressContentEditableWarning:!0,children:n+1}),(0,r.jsx)(w.Z,{contentEditable:i,suppressContentEditableWarning:!0,id:t.id,onInput:function(e){u(e.currentTarget.innerText);let t=document.createRange(),n=window.getSelection();t.setStart(e.currentTarget,1),t.collapse(!0),null==n||n.removeAllRanges(),null==n||n.addRange(t)},children:d}),(0,r.jsx)(w.Z,{contentEditable:!1,suppressContentEditableWarning:!0,onInput:function(e){f(e.currentTarget.innerText)},children:x()(h).format("DD/MM/YYYY")}),(0,r.jsx)(w.Z,{contentEditable:!1,suppressContentEditableWarning:!0,onInput:function(e){p(e.currentTarget.innerText)},children:x()(j).format("DD/MM/YYYY")}),(0,r.jsx)(w.Z,{suppressContentEditableWarning:!0,children:(0,r.jsx)("div",{className:"border w-28 ".concat(t.done?"bg-green-500":"bg-red-400"," text-center rounded-lg"),children:(0,r.jsxs)("p",{className:"text-base TEXT-",children:["".concat(t.done?"Completed":"Incomplete")," "]})})}),(0,r.jsxs)(w.Z,{children:[!i&&(0,r.jsx)(C.Z,{size:"small",onClick:function(){let e=(0,o.iH)(g,"/todos-".concat(b?b.uid:"","/").concat(t.id)),n={...t,done:!0};(0,o.t8)(e,n).then(()=>{console.log("Todo updated successfully"),m.toast.success("Todo marked as Done")}).catch(e=>{m.toast.error("Error: "+(null==e?void 0:e.message)),console.error("Error updating todo: ",e)})},children:(0,r.jsx)(A.Z,{})}),!i&&(0,r.jsx)(C.Z,{size:"small",onClick:Z,children:(0,r.jsx)(D.Z,{})}),i&&(0,r.jsx)(C.Z,{size:"small",sx:{mr:2},onClick:function(){let e=(0,o.iH)(g,"/todos-".concat(b?b.uid:"","/").concat(t.id)),n={...t,title:d,current_date:h,due_date:j};(0,o.t8)(e,n).then(()=>{Z(),m.toast.success("Todo Updated successfully")}).catch(e=>{m.toast.error("Error: "+(null==e?void 0:e.message)),console.error("Error updating todo: ",e)})},children:(0,r.jsx)(T.Z,{})}),!i&&(0,r.jsx)(C.Z,{size:"small",sx:{mr:2},onClick:function(){let e=(0,o.iH)(g,"/todos-".concat(b?b.uid:"","/").concat(t.id));(0,o.Od)(e).then(()=>{console.log("Todo deleted successfully"),m.toast.success("Todo Deleted")}).catch(e=>{m.toast.error("Error"+(null==e?void 0:e.message)),console.error("Error deleting todo: ",e)})},children:(0,r.jsx)(S.Z,{})}),i&&(0,r.jsx)(C.Z,{size:"small",onClick:Z,children:(0,r.jsx)(Y.Z,{})})]})]})};var k=()=>{let e=(0,o.N8)(c.l2),[t,n]=(0,s.useState)([]),{currentUser:i}=(0,s.useContext)(a.AuthContext);return(0,s.useEffect)(()=>{if(i){let t=(0,o.iH)(e,"/todos-".concat(i?i.uid:""));(0,o.jM)(t,e=>{let t=e.val(),r=[];for(let e in t)r.push({id:e,...t[e]});n(r)})}},[e,i]),(0,r.jsx)("div",{className:" m-0 md:m-10",children:(0,r.jsx)(p.Z,{component:g.Z,children:(0,r.jsxs)(b.Z,{children:[(0,r.jsx)(Z.Z,{children:(0,r.jsxs)(v.Z,{children:[(0,r.jsx)(w.Z,{component:"th",children:(0,r.jsx)(E.Z,{fontWeight:"bold",children:"ID"})}),(0,r.jsx)(w.Z,{component:"th",sx:{width:"35%"},children:(0,r.jsx)(E.Z,{fontWeight:"bold",children:"Name"})}),(0,r.jsx)(w.Z,{component:"th",children:(0,r.jsx)(E.Z,{fontWeight:"bold",children:"created Date"})}),(0,r.jsx)(w.Z,{component:"th",children:(0,r.jsx)(E.Z,{fontWeight:"bold",children:"Due Date"})}),(0,r.jsx)(w.Z,{component:"th",children:(0,r.jsx)(E.Z,{fontWeight:"bold",children:"status"})}),(0,r.jsx)(w.Z,{component:"th",sx:{width:"20%"},children:(0,r.jsx)(E.Z,{fontWeight:"bold",children:"Actions"})})]})}),(0,r.jsx)(y.Z,{children:null==t?void 0:t.map((e,t)=>(0,r.jsx)(v.Z,{children:(0,r.jsx)(_,{todo:e,indexs:t})},e.id))})]})})})},N=n(4232),W=n(9763);let I=()=>(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(W.wT,{maxSnack:3,children:[(0,r.jsx)(j,{}),(0,r.jsx)(k,{})]})});var M=(0,N.default)(()=>Promise.resolve(I),{ssr:!1})},7161:function(e,t,n){"use strict";n.d(t,{Td:function(){return f},eE:function(){return h},Yc:function(){return m},l2:function(){return c},w2:function(){return l},SA:function(){return a},D5:function(){return x}});var r=n(2730),s=n(6142);let o={apiKey:"AIzaSyBvMiUuz2RXynD4XyAHwhsiUMsEY_7o9J0",authDomain:"myproject-7b840.firebaseapp.com",databaseURL:"https://myproject-7b840-default-rtdb.firebaseio.com",projectId:"myproject-7b840",storageBucket:"myproject-7b840.appspot.com",messagingSenderId:"979447900958",appId:"1:979447900958:web:108583f4ef22de1db0b70f"},c=(0,s.ZF)(function(){if(o&&o.apiKey)return o;throw Error("No Firebase configuration object provided.\nAdd your web app's configuration object to firebase-config.ts")}()),i=(0,r.v0)(c),l=async(e,t)=>{if(e||t)return await (0,r.e5)(i,e,t)},a=async(e,t)=>{if(e||t)return await (0,r.Xb)(i,e,t)},d=new r.hJ,u=new r.GH,h=async()=>await (0,r.rh)(i,d),f=async()=>await (0,r.rh)(i,u),x=e=>(0,r.Aj)(i,e),m=async()=>await (0,r.w7)(i)},4972:function(e,t,n){"use strict";n.r(t),n.d(t,{AuthContext:function(){return l},AuthProvider:function(){return a}});var r=n(7437),s=n(2265),o=n(7907),c=n(7161),i=n(6288);let l=(0,s.createContext)({currentUser:{},setCurrentUser:e=>{},signOut:()=>{}}),a=e=>{let{children:t}=e,[n,a]=(0,s.useState)(null),d=(0,o.useRouter)();return(0,s.useEffect)(()=>(0,c.D5)(e=>{e&&a(e)}),[a]),(0,r.jsx)(l.Provider,{value:{currentUser:n,setCurrentUser:a,signOut:()=>{(0,c.Yc)(),a(null),i.toast.success("User Logout"),d.push("/")}},children:t})}}},function(e){e.O(0,[452,481,49,75,441,780,285,971,69,744],function(){return e(e.s=9735)}),_N_E=e.O()}]);